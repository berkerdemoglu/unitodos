{% extends "pages/base.html" %}
{% load bootstrap4 %}

{% block navbar %}
<nav class="navbar navbar-expand-md navbar-dark bg-dark">
  <a class="navbar-brand" href="#">Unitodos</a>
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" href="{% url 'pages:index' %}">Home</a>
    </li>
    <!-- Authentication-related links -->
    {% if user.is_authenticated %}
    <li class="nav-item">
      <form name="logoutForm" class="form-inline" method="post" action="{% url 'users:logout' %}">
        {% csrf_token %}
        <a class="nav-link" href="javascript:submitLogoutForm()">Log out</a>
      </form>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="{% url 'todos:todos' %}">Todos</a>
    </li>
    {% else %}
    <li class="nav-item">
      <a class="nav-link" href="{% url 'users:login' %}">Log in</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="{% url 'users:signup' %}">Sign up</a>
    </li>
    {% endif %}
  </div>
</nav>
{% endblock navbar %}

{% block scripts %}
<script type="text/javascript">
function submitLogoutForm() {
  document.logoutForm.submit();
}
</script>
{% endblock scripts %}
